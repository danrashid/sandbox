<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Date Inputs</title>
<link rel="stylesheet" href="lib/foundation.min.css" />
<script src="lib/modernizr.js"></script>
<style type="text/css">

input[data-invalid],
input[data-invalid]:focus {
  border-color: red;
}

.ui-datepicker-prev {
  float: left;
}
.ui-datepicker-title {
  text-align: center;
}
.ui-datepicker-next {
  float: right;
}

.ui-datepicker-calendar {
  width: 100%;
}

.ui-datepicker-current-day {
  color: black;
  font-weight: bold;
}

</style>
</head>

<body>

<form data-abide data-options="live_validate:true">
  <div class="row collapse">
    <div class="columns small-4 large-2">
      <input type="text" name="date" pattern="mydate" placeholder="YYYY-MM-DD" required />
    </div>
    <div class="columns small-4 large-2">
      <input type="text" name="time" pattern="mytime" placeholder="HH:MM" required />
    </div>
    <div class="columns small-4 large-2 end">
      <span class="postfix">Local time (GMT -5)</span>
    </div>
  </div>
  <div class="row">
    <div class="columns small-4 end">
      <div class="datepicker"></div>
    </div>
  </div>
  <div class="row">
    <div class="columns">
      <button type="submit">Submit</button>
    </div>
  </div>
</form>

<script src="lib/jquery.js"></script>
<script src="lib/jquery-ui.min.js"></script>
<script src="lib/foundation.min.js"></script>
<script>

var $dateInput = $('[name="date"]'),
  $datePicker = $('.datepicker');

$(document).foundation({
  abide: {
    live_validate: false,
    patterns: { // Lifted from http://foundation.zurb.com/docs/components/abide.html, but needs ^$ terminators
      mydate: /^(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,
      mytime: /^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9])$/
    }
  }
});

$.datepicker.setDefaults({
  dateFormat: 'yy-mm-dd',
  nextText: '▶',
  prevText: '◀'
});

$datePicker.datepicker({
  altField: $dateInput
});

$('[name="time"]').val((new Date).toISOString().substr(11, 5));

$dateInput.on('valid.fndtn.abide', function () {
  $datePicker.datepicker('setDate', $(this).val());
});

</script>
</body>
</html>
